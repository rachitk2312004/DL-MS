<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Events</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
<div class="container">
    <h1>Join Events</h1>

    <!-- Flash messages for user feedback -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
                {% for category, message in messages %}
                    <div class="flash-message {{ category }}">{{ message }}</div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <!-- Upcoming Events Section -->
    <section id="upcoming-events" class="event-section">
        <h2>Upcoming List</h2>
        <ul class="event-list">
            {% for event in upcoming_events %}
                <li class="event-item">
                    <strong>{{ event.name }}</strong> <br>
                    Type: {{ event.type }} <br>
                    Venue: {{ event.venue }} <br>
                    Timings: {{ event.timings }} <br>
                    Date: {{ event.date }} <br>
                    <form action="{{ url_for('register_event', event_id=event.id) }}" method="POST">
                        <button type="submit" class="button">Join</button>
                    </form>
                </li>
            {% else %}
                <li class="no-events">No upcoming events available.</li>
            {% endfor %}
        </ul>
    </section>

    <!-- Participated Events Section -->
    <section id="participated-events" class="event-section">
        <h2>Participated Events</h2>
        <ul class="event-list">
            {% for event in participated_events %}
                <li class="event-item">
                    <strong>{{ event.name }}</strong> <br>
                    Type: {{ event.type }} <br>
                    Venue: {{ event.venue }} <br>
                    Timings: {{ event.timings }} <br>
                    Date: {{ event.date }}
                </li>
            {% else %}
                <li class="no-events">No participated events found.</li>
            {% endfor %}
        </ul>
    </section>

    <!-- Live Events Section -->
    <section id="live-events" class="event-section">
        <h2>Live Events</h2>
        <ul class="event-list">
            {% for event in live_events %}
                <li class="event-item">
                    <strong>{{ event.name }}</strong> <br>
                    Type: {{ event.type }} <br>
                    Venue: {{ event.venue }} <br>
                    Timings: {{ event.timings }} <br>
                    Date: {{ event.date }}
                </li>
            {% else %}
                <li class="no-events">No live events currently.</li>
            {% endfor %}
        </ul>
    </section>

    <!-- Past Events Section -->
    <section id="past-events" class="event-section">
        <h2>Past Events</h2>
        <ul class="event-list">
            {% for event in past_events %}
                <li class="event-item">
                    <strong>{{ event.name }}</strong> <br>
                    Type: {{ event.type }} <br>
                    Venue: {{ event.venue }} <br>
                    Timings: {{ event.timings }} <br>
                    Date: {{ event.date }}
                </li>
            {% else %}
                <li class="no-events">No past events available.</li>
            {% endfor %}
        </ul>
    </section>

    <!-- Navigation to Student Dashboard -->
    <div class="navigation">
        <a href="{{ url_for('student_dashboard') }}" class="back-button">Back to Dashboard</a>
    </div>
</div>
</body>
</html>
